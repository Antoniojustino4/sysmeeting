<app-menu [breadcrumb]=breadcrumb></app-menu>
<!-- <form #cadastroCampus="ngForm" (ngSubmit)="adicionar(cadastroCampus)"> -->
<form #SearchItem="ngForm">
  <p-card class="ui-g-12 card-g">
    <div class="p-grid">
      <div class="p-col-10">
        <h1 class="titulo">Gerenciamento de itens de pauta</h1>
      </div>
    </div>
    <label class="label-pac"> Palavras-chave:</label>
    <label class="label-status"> Status:</label>
    <br>
    <input class="text-pac" id="float-input" type="text" pInputText ngModel name="assunto" [(ngModel)]=filtro.assunto>
    <p-dropdown class="comboboxStatus" ariaFilterLabel=null defaultLabel="Selecione" [options]="status"
      optionLabel="label" ngModel name="status" [(ngModel)]=estado></p-dropdown>

    <p-button type="button" class="btn-searchItem" label="buscar" (click)="pesquisar()"></p-button>
    <br>
    <div *ngIf="auth.temPermissao('PRESIDENTE')">
      <p-button type="button" class="btn-addItem" label="criar item de pauta" (click)="showDialog()"></p-button>
    </div>

  </p-card>
  <p-card class="ui-g-12">
    <p-table [value]="items" [responsive]="true" emptyMessage="Nenhum registro cadastrado" [paginator]="true"
      [rows]="filtro.itensPorPagina" [lazy]="true" [totalRecords]="totalRegistros" #tabela
      (onLazyLoad)="aoMudarPagina($event)">
      <ng-template pTemplate="caption">
        Itens
      </ng-template>
      <ng-template pTemplate="header">
        <tr>
          <th style="text-align:left">Data</th>
          <th style="text-align:left">Status</th>
          <th style="text-align:left">Origem</th>
          <th style="text-align:left">Item</th>
          <th style="text-align:left">Assunto</th>
          <th style="text-align:left">Ação</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-item>
        <tr>
          <td>{{item.dataSugestao}}</td>
          <td>{{item.estado}}</td>
          <td>{{item.origem}}</td>
          <td>{{item.descricao}}</td>
          <td>{{item.assunto}}</td>
          <td>
            <p-button type="button" class="btn-editar" icon=" pi pi-pencil" (click)="editar(item.id)"
              *ngIf="auth.temPermissao('PRESIDENTE')"></p-button>
            <!-- <button (click)="atualizar(item)">enquadrar</button> -->
            <!-- <p-button type="button" class="btn-enquadrar" label="enquadrar" *ngIf="auth.temPermissao('PRESIDENTE')">
            </p-button> -->
            <!-- <button (click)="verDiscussão(curso)">ver discussão</button> -->
            <!-- <p-button type="button" class="btn-discussao" icon="pi pi-comments" label="ver discussão"></p-button> -->
          </td>

        </tr>
      </ng-template>
    </p-table>
  </p-card>
</form>


<!-- <p-dialog [modal]="true" header="{{titulo}}" [(visible)]="display" class="dialogItem"> -->

  <!-- <form class="formItem" #cadastroItem="ngForm"> -->
  <!-- <form class="formItem" #cadastroItem="ngForm">
    <label class="label-assunto"> Assunto:</label>
    <input id="float-input" type="text" required size="25" class="textassun" pInputText ngModel name="assunto"
      [(ngModel)]=item.assunto>
    <label class="label-descr">Descrição:</label>
    <textarea class="textarea" required ngModel name="descricao" [(ngModel)]=item.descricao>
    </textarea> -->

  <!-- </form>
<br><br><br>
  <p-footer>
    <p-button  class="btn-Cancel" label="cancelar" (click)="!showDialog()"></p-button>
    <p-button class="btn-Item" label="salvar" (click)="adicionar(cadastroItem)"></p-button>
  </p-footer>
</p-dialog> -->
<p-dialog [modal]="true" header="{{titulo}}" [(visible)]="display" class="dialogItem">
  <!-- <form class="formItem" #cadastroItem="ngForm"> -->
  <form class="formItem" #cadastraritem="ngForm" (ngSubmit)="adicionar(cadastraritem)">
    <label class="label-assunto"> Assunto:</label>
    <input id="float-input" type="text" size="25" class="textassun" required pInputText ngModel name="assunto"
      [(ngModel)]=item.assunto>
    <label class="label-descr">Descrição:</label>
    <textarea pInputTextarea class="textarea" name="descricao" required ngModel name="descricao"
      [(ngModel)]=item.descricao></textarea>


  </form>
  <br> <br>
  <p-footer>
    <p-button  class="btn-Cancel" label="cancelar"></p-button>
    <p-button class="btn-Item" label="salvar" (click)="adicionar(cadastraritem)"[disabled]="cadastraritem.invalid"></p-button>
    </p-footer>
</p-dialog>
